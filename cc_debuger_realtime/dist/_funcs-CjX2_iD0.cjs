'use strict';const e={'name':'cc_debuger_realtime','version':'1.1.3'},t=require('path'),n=require('net'),{exec:r,spawn:o}=require('child_process'),i=require('fs-extra'),s=require('os'),c=require('http'),a=require('crypto'),l=require('url'),u=require('util')['promisify'](r);exports['_funcs']=void 0x0,(_0x46d485=>{function _0x226293(){return e['name'];}function _0x52863b(){return t['join'](Editor['Project']['path'],'extensions',e['name']);}_0x46d485['getPluginName']=_0x226293,_0x46d485['getPluginVersionName']=function(){const _0x1984f6=_0x52863b()+'/version.txt';let _0x5d05f3=i['readFileSync'](_0x1984f6);if(_0x5d05f3['toString']&&(_0x5d05f3=_0x5d05f3['toString']()),'string'==typeof _0x5d05f3)_0x5d05f3=_0x5d05f3['trim'](),/^\d+(\.\d+)*$/['test'](_0x5d05f3)||(_0x5d05f3=e['version']);else _0x5d05f3=e['version'];return _0x5d05f3;},_0x46d485['getAssetInfoByUuid']=async function(_0x216217){return Editor['Message']['request']('asset-db','query-asset-info',_0x216217);},_0x46d485['getAssetMetaByUuid']=async function(_0x2b600c){return Editor['Message']['request']('asset-db','query-asset-meta',_0x2b600c);},_0x46d485['getUuidByUrl']=async function(_0x4bef4a){return Editor['Message']['request']('asset-db','query-uuid',_0x4bef4a);},_0x46d485['log_1']=function(..._0x34a474){_0x34a474['unshift']('[Plugin]'),console['log']['apply'](console,_0x34a474);},_0x46d485['getCurPluginPath']=_0x52863b,_0x46d485['waitForSeconds']=async function(_0x5201c9){return new Promise(_0x5def80=>{setTimeout(()=>{_0x5def80(null);},0x3e8*_0x5201c9);});},_0x46d485['getAllSubpathsFromUrl']=function(_0x39cfa9){const _0x59b620=_0x39cfa9['replace'](/^[^:]+:\/+/,'')['split']('/'),_0x535e13=[];let _0x1f0027='';for(let _0x3e9f39=0x0;_0x3e9f39<_0x59b620['length'];_0x3e9f39++)_0x1f0027=(_0x1f0027?_0x1f0027+'/':'')+_0x59b620[_0x3e9f39],_0x535e13['push'](_0x1f0027);return _0x535e13;},_0x46d485['getIconOfResType']=function(_0x5e61bf){return'cc.SpriteFrame'===_0x5e61bf||'cc.Texture2D'===_0x5e61bf||'cc.ImageAsset'===_0x5e61bf?'image':'cc.Prefab'===_0x5e61bf?'prefab':'cc.SceneAsset'===_0x5e61bf?'scene':'cc.Material'===_0x5e61bf?'material':'cc.EffectAsset'===_0x5e61bf?'effect':'cc.AudioClip'===_0x5e61bf?'audio-clip':'cc.AnimationClip'===_0x5e61bf?'animation-clip':'cc.JsonAsset'===_0x5e61bf?'json':'cc.TextAsset'===_0x5e61bf?'text':'cc.BitmapFont'===_0x5e61bf?'bitmap-font':'cc.TTFFont'===_0x5e61bf?'ttf-font':'cc.ParticleAsset'===_0x5e61bf?'particle':'cc.SpriteAtlas'===_0x5e61bf?'sprite-atlas':'cc.VideoClip'===_0x5e61bf?'video':'cc.Mesh'===_0x5e61bf?'mesh':'sp.SkeletonData'===_0x5e61bf?'spine-data':'cc.AnimationClip'===_0x5e61bf?'animation-clip':'unknown';},_0x46d485['getRuntimePreviewUrl']=async function(){return'http://localhost:'+await new Promise(_0x217b06=>{Editor['Message']['request']('server','query-port')['then'](_0x2a998a=>{_0x217b06(_0x2a998a);});})+'/';},_0x46d485['openWebSiteUrl']=function(_0x25cda6){let _0x5a7b79;switch(s['platform']()){case'win32':_0x5a7b79='start\x20\x22\x22\x20\x22'+_0x25cda6+'\x22';break;case'darwin':_0x5a7b79='open\x20\x22'+_0x25cda6+'\x22';break;case'linux':_0x5a7b79='xdg-open\x20\x22'+_0x25cda6+'\x22';break;default:return void console['error']('Unsupported\x20platform:\x20'+s['platform']());}r(_0x5a7b79,(_0x2467cf,_0x224ca8,_0x265507)=>{_0x2467cf?console['error']('执行命令时出错:\x20'+_0x2467cf):_0x265507&&console['error']('标准错误输出:\x20'+_0x265507);});},_0x46d485['waitForElementMounted']=async function(_0xe47062,_0x3258a1=0x64,_0x4b4573=0x32){return _0xe47062['value']?_0xe47062['value']:new Promise(function(_0x661961,_0x1c9643){let _0x4d5d36=0x0;const _0x3255e5=setInterval(()=>{_0xe47062['value']?(_0x661961(_0xe47062['value']),clearInterval(_0x3255e5)):_0x4d5d36>=_0x4b4573?clearInterval(_0x3255e5):_0x4d5d36++;},_0x3258a1);});},_0x46d485['clamp']=function(_0x159d90,_0x45a681,_0x93ad17){if(_0x159d90>_0x45a681)throw new Error('min\x20should\x20be\x20less\x20than\x20or\x20equal\x20to\x20max');return Math['min'](Math['max'](_0x93ad17,_0x159d90),_0x45a681);};const _0x34eb3a=[];async function _0x437ade(_0x116a4c){try{return await i['ensureDir'](_0x116a4c),_0x116a4c;}catch(_0x48ec1d){return console['error']('操作文件夹时出错:\x20'+_0x48ec1d['message']),null;}}async function _0x198773(){const _0x27b633=_0x52863b()+'/cache',_0x1af4a4=_0x27b633+'/localServer.json';return await _0x437ade(_0x27b633),_0x1af4a4;}_0x46d485['runCmdSpawn']=function(_0x5312f2,_0x46c824,_0x48dadd){return new Promise((_0x532165,_0x47c27)=>{const _0x4b82df=o(_0x5312f2,_0x46c824,{'shell':!0x0,..._0x48dadd});_0x34eb3a['push'](_0x4b82df),_0x4b82df['stdout']['on']('data',_0x5d0e54=>{console['log']('[runCmdSpawn]:\x20'+_0x5d0e54['toString']()['trim']());}),_0x4b82df['stderr']['on']('data',_0x38e122=>{console['error']('[runCmdSpawn\x20Error]:\x20'+_0x38e122['toString']()['trim']());}),_0x4b82df['on']('error',_0x538053=>{console['error']('[runCmdSpawn\x20Error]',_0x538053),_0x532165();}),_0x4b82df['on']('exit',_0x3b5abb=>{_0x34eb3a['splice'](_0x34eb3a['indexOf'](_0x4b82df),0x1),console['log']('[runCmdSpawn]\x20Process\x20exited\x20with\x20code\x20'+_0x3b5abb),_0x532165();});});},_0x46d485['stopSpawnProcess']=function(){for(let _0x4eef3d of _0x34eb3a)_0x4eef3d['kill']();_0x34eb3a['length']=0x0;},_0x46d485['rgbaToHex']=function(_0x45f3a1,_0x2507ff,_0x227c15,_0x449314){const _0x4e4c02=_0x4217ca=>{const _0x3c4ecd=_0x4217ca['toString'](0x10);return 0x1===_0x3c4ecd['length']?'0'+_0x3c4ecd:_0x3c4ecd;};return'#'+_0x4e4c02(_0x45f3a1)+_0x4e4c02(_0x2507ff)+_0x4e4c02(_0x227c15)+_0x4e4c02(_0x449314);},_0x46d485['findAvailablePort']=function _0x599b38(_0x30f188){return new Promise((_0x100f30,_0x4c6581)=>{const _0x3f0cb3=n['createServer']();_0x3f0cb3['unref'](),_0x3f0cb3['on']('error',()=>{_0x100f30(_0x599b38(_0x30f188+0x1));}),_0x3f0cb3['listen'](_0x30f188,()=>{const _0x1edcbe=_0x3f0cb3['address']()['port'];_0x3f0cb3['close'](()=>_0x100f30(_0x1edcbe));});});},_0x46d485['roundNumbersToPrecision']=function _0x439b91(_0x51280e,_0x1908ce=0x2){return null===_0x51280e||'object'!=typeof _0x51280e?'number'==typeof _0x51280e?Number(_0x51280e['toFixed'](_0x1908ce)):_0x51280e:Array['isArray'](_0x51280e)?_0x51280e['map'](_0x29ab0b=>_0x439b91(_0x29ab0b,_0x1908ce)):Object['keys'](_0x51280e)['reduce']((_0x389000,_0x2241e8)=>{const _0x3204a=_0x51280e[_0x2241e8];return _0x389000[_0x2241e8]='number'==typeof _0x3204a?Number(_0x3204a['toFixed'](_0x1908ce)):'object'==typeof _0x3204a&&null!==_0x3204a?_0x439b91(_0x3204a,_0x1908ce):_0x3204a,_0x389000;},{});},_0x46d485['checkMouseIsInElemen']=function(_0x1f4e2a,_0x56afd1){const _0x4cacc8=_0x1f4e2a['getBoundingClientRect']();return _0x56afd1['clientX']>_0x4cacc8['x']&&_0x56afd1['clientX']<_0x4cacc8['x']+_0x4cacc8['width']&&_0x56afd1['clientY']>_0x4cacc8['y']&&_0x56afd1['clientY']<_0x4cacc8['y']+_0x4cacc8['height'];},_0x46d485['registerF5']=function(){window['addEventListener']('keyup',_0x2faee5=>{'F5'==_0x2faee5['key']&&Editor['Message']['send'](_0x46d485['getPluginName'](),'restart-self');});},_0x46d485['isValidURL']=function(_0x2b172c){return new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\x5cS+(?::\x5cS*)?@)?(?:(?:(?:[1-9]\x5cd?|1\x5cd\x5cd|2[01]\x5cd|22[0-3])(?:\x5c.(?:1?\x5cd{1,2}|2[0-4]\x5cd|25[0-5])){2}(?:\x5c.(?:[0-9]\x5cd?|1\x5cd\x5cd|2[0-4]\x5cd|25[0-4]))|(?:(?:[a-z\x5cu00a1-\x5cuffff0-9]+-?)*[a-z\x5cu00a1-\x5cuffff0-9]+)(?:\x5c.(?:[a-z\x5cu00a1-\x5cuffff0-9]+-?)*[a-z\x5cu00a1-\x5cuffff0-9]+)*(?:\x5c.(?:[a-z\x5cu00a1-\x5cuffff]{2,})))|localhost)(?::\x5cd{2,5})?(?:(/|\x5c?|#)[^\x5cs]*)?$','i')['test'](_0x2b172c);},_0x46d485['ensureFloderExist']=_0x437ade,_0x46d485['getLocalIpv4IP']=function(){const _0x326735=s['networkInterfaces']();for(const _0x4ef81d in _0x326735){const _0x2d4120=_0x326735[_0x4ef81d];for(const _0x40b964 of _0x2d4120)if('IPv4'===_0x40b964['family']&&!_0x40b964['internal'])return _0x40b964['address'];}return'未找到\x20IP\x20地址';},_0x46d485['getLocalIPs']=function(){const _0x632a04=s['networkInterfaces'](),_0x56ede1=[];for(const _0x140788 of Object['keys'](_0x632a04))for(const _0x139be9 of _0x632a04[_0x140788])'IPv4'!==_0x139be9['family']||_0x139be9['internal']||_0x56ede1['push'](_0x139be9['address']),'IPv6'!==_0x139be9['family']||_0x139be9['internal']||_0x56ede1['push'](_0x139be9['address']);return _0x56ede1;},_0x46d485['checkIpIsLocalhost']=function(_0x49fda7){const _0x1c6576=_0x46d485['getLocalIPs']();return!('localhost'!=_0x49fda7&&'::1'!=_0x49fda7&&'127.0.0.1'!=_0x49fda7&&!_0x1c6576['includes'](_0x49fda7));},_0x46d485['getFs']=function(){return i;},_0x46d485['getLocalServerJsonPath']=_0x198773,_0x46d485['saveCustomServerAddress']=async function(_0x1e1706){const _0x4d0be6=await _0x198773();let _0x45b9ce=null;try{_0x45b9ce=i['readJSONSync'](_0x4d0be6);}catch(_0x10e64d){}_0x45b9ce={'ip':null==_0x45b9ce?void 0x0:_0x45b9ce['ip'],'port':null==_0x45b9ce?void 0x0:_0x45b9ce['port'],'ws':_0x1e1706},_0x45b9ce['ip']||delete _0x45b9ce['ip'],_0x45b9ce['port']||delete _0x45b9ce['port'],i['writeFileSync'](_0x4d0be6,JSON['stringify'](_0x45b9ce,null,0x4));};let _0x191ad9=0x0;function _0x1f5fb4(_0x2611e6,_0x365b43){const _0x1a40b0=new Uint8Array(_0x2611e6['length']);for(let _0x416c29=0x0;_0x416c29<_0x2611e6['length'];_0x416c29++)_0x1a40b0[_0x416c29]=_0x2611e6[_0x416c29]^_0x365b43[_0x416c29%_0x365b43['length']];return _0x1a40b0;}function _0x3bd9ea(_0x45bf52){return l['parse'](_0x45bf52)['pathname'];}function _0x24deb4(_0x349dfa){const _0x10cb8e=a['createHash']('md5');return _0x10cb8e['update'](_0x349dfa),_0x10cb8e['digest']('hex');}_0x46d485['printTime']=function(_0x5b8212,..._0x12314c){let _0xabfa5d=Date['now']();0x0==_0x191ad9||console['log'](_0x5b8212,_0xabfa5d-_0x191ad9,..._0x12314c),_0x191ad9=_0xabfa5d;},_0x46d485['getI18nText']=function(_0x17783e){_0x17783e=_0x226293()+'.'+_0x17783e;let _0x5f0dfe=Editor['I18n']['t'](_0x17783e);return''==_0x5f0dfe&&_0x46d485['log_1']('i18n.'+_0x17783e+'为空'),_0x5f0dfe;},_0x46d485['formatStr']=function(_0x8dd7b5,..._0x51d701){return _0x8dd7b5['replace'](/\{(\d+)\}/g,function(_0x52eb30,_0x38a7a0){return void 0x0!==_0x51d701[_0x38a7a0]?_0x51d701[_0x38a7a0]:_0x52eb30;});},_0x46d485['formatDate']=function(_0x14fb45,_0x4f5f13){let _0x5cf1d5=new Date();null!=_0x4f5f13&&_0x5cf1d5['setTime'](_0x4f5f13);var _0x36430f={'M+':_0x5cf1d5['getMonth']()+0x1,'d+':_0x5cf1d5['getDate'](),'h+':_0x5cf1d5['getHours'](),'m+':_0x5cf1d5['getMinutes'](),'s+':_0x5cf1d5['getSeconds'](),'q+':Math['floor']((_0x5cf1d5['getMonth']()+0x3)/0x3),'S':_0x5cf1d5['getMilliseconds']()};for(var _0x467b61 in(/(y+)/['test'](_0x14fb45)&&(_0x14fb45=_0x14fb45['replace'](RegExp['$1'],(_0x5cf1d5['getFullYear']()+'')['substr'](0x4-RegExp['$1']['length']))),_0x36430f))new RegExp('('+_0x467b61+')')['test'](_0x14fb45)&&(_0x14fb45=_0x14fb45['replace'](RegExp['$1'],0x1==RegExp['$1']['length']?_0x36430f[_0x467b61]:('00'+_0x36430f[_0x467b61])['substr']((''+_0x36430f[_0x467b61])['length'])));return _0x14fb45;},_0x46d485['openEvalPanel']=async function(_0x1bccbc=''){const _0x4e14ff=_0x46d485['getPluginName']()+'.eval_panel';await Editor['Panel']['has'](_0x4e14ff)?Editor['Panel']['focus'](_0x4e14ff):await Editor['Panel']['open'](_0x4e14ff),_0x1bccbc&&Editor['Message']['request'](_0x46d485['getPluginName'](),'setDefaultEvalStr',_0x1bccbc);},_0x46d485['parseKey']=function(_0x14a64c){let _0x2c2e57='';for(let _0x173c3e=0x0;_0x173c3e<_0x14a64c['length'];_0x173c3e++){let _0x645f5a=_0x14a64c[_0x173c3e]['toString'](),_0x531448='';for(let _0x54a754=0x0;_0x54a754<_0x645f5a['length'];_0x54a754++)_0x531448+=(0x9-parseInt(_0x645f5a['charAt'](_0x54a754)))['toString']();_0x2c2e57+=parseInt(_0x531448)['toString'](0x10)['padStart'](0x8,'0');}return _0x2c2e57;},_0x46d485['str_encrypt']=function(_0x103fe4,_0x441887){if(null==_0x441887)return void console['log']('key\x20不能为空');const _0x4026be=_0x1f5fb4(new TextEncoder()['encode'](_0x103fe4),new TextEncoder()['encode'](_0x441887));let _0x4af91f='';for(let _0x44c7a9=0x0;_0x44c7a9<_0x4026be['length'];_0x44c7a9+=0x8000){const _0x663837=_0x4026be['subarray'](_0x44c7a9,_0x44c7a9+0x8000);_0x4af91f+=String['fromCharCode']['apply'](null,Array['from'](_0x663837));}return btoa(_0x4af91f);},_0x46d485['str_decrypt']=function(_0x301f57,_0x5472be){if(null==_0x5472be)return void console['log']('key\x20不能为空');const _0x304088=atob(_0x301f57),_0x595e17=new Uint8Array(_0x304088['length']);for(let _0x54c853=0x0;_0x54c853<_0x304088['length'];_0x54c853+=0x8000){const _0x1a7e87=_0x304088['slice'](_0x54c853,_0x54c853+0x8000);for(let _0x5b3fcb=0x0;_0x5b3fcb<_0x1a7e87['length'];_0x5b3fcb++)_0x595e17[_0x54c853+_0x5b3fcb]=_0x1a7e87['charCodeAt'](_0x5b3fcb);}const _0x527f18=_0x1f5fb4(_0x595e17,new TextEncoder()['encode'](_0x5472be));return new TextDecoder()['decode'](_0x527f18);},_0x46d485['pako_deflate']=function(_0x19fef6){return pako['deflate'](_0x19fef6,{'to':'string'});},_0x46d485['pako_inflate']=function(_0x299ded){return pako['inflate'](_0x299ded,{'to':'string'});},_0x46d485['getDesignResolutionSize']=function(){var _0x37afc2,_0xfefff4;const _0x3812b8=t['join'](Editor['Project']['path'],'settings/v2/packages/project.json');if(i['existsSync'](_0x3812b8))try{const _0x20ed79=i['readJSONSync'](_0x3812b8);if(null==(_0x37afc2=null==_0x20ed79?void 0x0:_0x20ed79['general'])?void 0x0:_0x37afc2['designResolution'])return null==(_0xfefff4=null==_0x20ed79?void 0x0:_0x20ed79['general'])?void 0x0:_0xfefff4['designResolution'];}catch(_0x1eba51){}return null;},_0x46d485['getMethodOfUrl']=_0x3bd9ea,_0x46d485['str_to_md5']=_0x24deb4;function _0xa310f9(_0x173ad8,_0x286ee7,_0x11d428=null){_0x11d428=_0x11d428||'7FC7F4BE5C4E543E0F3439095EE00A95';let _0x2d4bf0='',_0x17edb2=[];for(let _0x3485de in _0x286ee7)_0x17edb2['push'](_0x3485de);_0x17edb2['sort']((_0x1a7184,_0x9420ec)=>_0x1a7184>_0x9420ec?0x1:-0x1);for(let _0x10eb55 of _0x17edb2){let _0x2519a8=_0x286ee7[_0x10eb55];0x0!=_0x2d4bf0['length']&&(_0x2d4bf0+='&'),'object'==typeof _0x2519a8&&(_0x2519a8=JSON['stringify'](_0x2519a8)),_0x2d4bf0+=_0x10eb55+'='+_0x2519a8;}return _0x24deb4(_0x173ad8+';'+_0x2d4bf0+';'+_0x11d428);}_0x46d485['make_sign_of_method']=_0xa310f9,_0x46d485['sendPostRequest']=async function(_0x537915,_0x42cb1a,_0x55c522=!0x1){return new Promise((_0x2375a8,_0x58e9c2)=>{if(_0x55c522){const _0x245c5d=_0xa310f9(_0x3bd9ea(_0x537915),_0x42cb1a);_0x42cb1a['sign']=_0x245c5d;}const _0x11c90c=JSON['stringify'](_0x42cb1a),_0x13e3dc={'method':'POST','headers':{'Content-Type':'application/json','Content-Length':Buffer['byteLength'](_0x11c90c)}},_0x5c24d5=c['request'](_0x537915,_0x13e3dc,_0x324e9f=>{let _0x5436ad='';_0x324e9f['on']('data',_0x5bc043=>{_0x5436ad+=_0x5bc043;}),_0x324e9f['on']('end',()=>{if(_0x324e9f['statusCode']>=0xc8&&_0x324e9f['statusCode']<0x12c)try{_0x2375a8(JSON['parse'](_0x5436ad));}catch(_0x39bf2e){_0x2375a8(_0x5436ad);}else _0x58e9c2(new Error('Request\x20failed\x20with\x20status\x20code\x20'+_0x324e9f['statusCode']));});});_0x5c24d5['on']('error',_0x2ef353=>{_0x58e9c2(_0x2ef353);}),_0x5c24d5['write'](_0x11c90c),_0x5c24d5['end']();});},_0x46d485['logToFile']=function(_0x27f16e,_0x2e95e6){_0x2e95e6||(_0x2e95e6=t['join'](_0x46d485['getCurPluginPath'](),'logs','cc_debuger_realtime.log')),_0x46d485['ensureFloderExist'](t['dirname'](_0x2e95e6)),i['appendFileSync'](_0x2e95e6,_0x46d485['formatDate']('yyyy-MM-dd\x20hh:mm:ss')+':\x20'+_0x27f16e+'\x0a');},_0x46d485['checkNodeJsEnable']=async function(){r('node\x20-v',(_0x46f4e1,_0x4acbfd,_0x553d97)=>{if(_0x46f4e1)return void console['error']('Node.js\x20未安装或未正确配置，请安装\x20Node.js：https://nodejs.org/');const _0x537f78=_0x4acbfd['trim']();try{parseInt(_0x537f78['replace'](/^[v,V]/,'')['split']('.')[0x0],0xa)>=0x12?_0x46d485['log_1']('Node.js\x20版本：',_0x537f78):console['error']('[cc_debuger_realtime]','Node.js\x20版本过低，可能无法正常使用插件，需要\x20>=\x20v18，当前为：',_0x537f78);}catch(_0xe09f55){}});},_0x46d485['capitalizeSplit']=function(_0x166fed){return'string'!=typeof _0x166fed?'':_0x166fed['replace'](/_/g,'\x20')['replace'](/([a-z])([A-Z])/g,'$1\x20$2')['toLowerCase']()['split']('\x20')['map'](_0x5927ec=>0x0===_0x5927ec['length']?'':_0x5927ec['charAt'](0x0)['toUpperCase']()+_0x5927ec['slice'](0x1))['join']('\x20')['trim']();},_0x46d485['compareVersion']=function(_0x19c506,_0x1efe9e){const _0x3fae7d=_0x19c506['split']('.')['map'](_0x243da1=>parseInt(_0x243da1,0xa)||0x0),_0x4fc72b=_0x1efe9e['split']('.')['map'](_0x16d60b=>parseInt(_0x16d60b,0xa)||0x0),_0x3e6042=Math['max'](_0x3fae7d['length'],_0x4fc72b['length']);for(let _0x4d4bff=0x0;_0x4d4bff<_0x3e6042;_0x4d4bff++){const _0x542eaa=_0x3fae7d[_0x4d4bff]||0x0,_0x61de7a=_0x4fc72b[_0x4d4bff]||0x0;if(_0x542eaa>_0x61de7a)return 0x1;if(_0x542eaa<_0x61de7a)return-0x1;}return 0x0;},_0x46d485['checkSyncFromGit']=async function(_0x304605){const _0xc6f632=Editor['Project']['tmpDir']+'/ccdebuger-publish',_0x537564=_0x46d485['getCurPluginPath'](),_0x46f118=t['join'](_0xc6f632,'version.txt'),_0x3731ca=t['join'](_0x537564,'version.txt');try{_0x304605&&_0x304605(0x0,'开始从gitee获取最新版插件...'),i['existsSync'](_0xc6f632)&&i['existsSync'](t['join'](_0xc6f632,'.git'))?(await u('git\x20-C\x20\x22'+_0xc6f632+'\x22\x20pull'),console['log']('[SyncFromGit]\x20pull\x20完成'),_0x304605&&_0x304605(0x1,'拉取远程仓库更新成功')):(await u('git\x20clone\x20https://gitee.com/huangyuzhao2018/ccdebuger-publish.git\x20\x22'+_0xc6f632+'\x22'),console['log']('[SyncFromGit]\x20clone\x20完成'),_0x304605&&_0x304605(0x1,'克隆远程仓库成功'));let _0x221537='0.0.0',_0x17a97d='0.0.0';try{_0x221537=(await i['readFile'](_0x46f118,'utf8'))['trim']();}catch(_0x4888bc){console['log']('[SyncFromGit]\x20远程版本号读取失败，使用默认值0.0.0');}try{_0x17a97d=(await i['readFile'](_0x3731ca,'utf8'))['trim']();}catch(_0x50194e){console['log']('[SyncFromGit]\x20本地版本号读取失败，使用默认值0.0.0');}if(_0x304605&&_0x304605(0x2,'远程版本号:\x20'+_0x221537+',\x20本地版本号:\x20'+_0x17a97d),_0x46d485['compareVersion'](_0x221537,_0x17a97d)>0x0){_0x304605&&_0x304605(0x3,'本地插件较旧，开始同步插件文件...');const _0x55fea6=await i['readdir'](_0xc6f632);for(const _0x563953 of _0x55fea6){if('version.txt'===_0x563953||'.git'===_0x563953)continue;const _0x35e57e=t['join'](_0xc6f632,_0x563953),_0x4ce7f1=t['join'](_0x537564,_0x563953);await i['copy'](_0x35e57e,_0x4ce7f1,{'overwrite':!0x0});}if(_0x55fea6['includes']('version.txt')){const _0x7fa40e=t['join'](_0xc6f632,'version.txt'),_0x18c867=t['join'](_0x537564,'version.txt');await i['copy'](_0x7fa40e,_0x18c867,{'overwrite':!0x0});}let _0x32d765=!0x1;try{const _0x16451c=await i['readFile'](t['join'](_0xc6f632,'package.json'),'utf8'),_0x4e4bdd=t['join'](_0x537564,'package.json');let _0x35e95a='';await i['pathExists'](_0x4e4bdd)&&(_0x35e95a=await i['readFile'](_0x4e4bdd,'utf8'));const _0xc5c7d4=JSON['parse'](_0x16451c),_0x36bf26=_0x35e95a?JSON['parse'](_0x35e95a):{},_0x8dc088=JSON['stringify'](_0xc5c7d4['dependencies']||{});_0x8dc088!==JSON['stringify'](_0x36bf26['dependencies']||{})&&(_0x32d765=!0x0);}catch(_0x5301d5){_0x32d765=!0x0;}_0x32d765?(_0x304605&&_0x304605(0x4,'插件文件已更新，开始安装依赖'),await u('npm\x20install',{'cwd':_0x537564}),console['log']('[SyncFromGit]\x20已安装依赖'),_0x304605&&_0x304605(0x5,'插件依赖已安装')):_0x304605&&_0x304605(0x5,'插件文件已更新'),_0x304605&&_0x304605(0x6,'插件更新成功，请按F5重启插件生效'),console['log']('[SyncFromGit]\x20插件已更新到最新版本，重启生效');}else console['log']('[SyncFromGit]\x20当前已是最新版本，无需更新'),_0x304605&&_0x304605(0x6,'您的插件已经是最新版：'+_0x17a97d);}catch(_0x43b74c){console['log']('[SyncFromGit]\x20同步插件失败：'+_0x43b74c['message']);}};})(exports['_funcs']||(exports['_funcs']={})),(function(){if(null!=globalThis['pako'])return;let _0x36250e=t['join'](exports['_funcs']['getCurPluginPath'](),'src/tools/','ccdebuger.pako.min.js'),_0x43fb5e=i['readFileSync'](_0x36250e,'utf-8');try{new Function(_0x43fb5e)();}catch(_0x5a2d83){console['log'](_0x5a2d83);}}()),exports['packageJSON']=e;