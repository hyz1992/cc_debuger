'use strict';function _0x35cf(_0x4e2980,_0x41d7bb){const _0x12fc2d=_0x12fc();return _0x35cf=function(_0x35cf12,_0x19dca8){_0x35cf12=_0x35cf12-0x174;let _0x1f3d39=_0x12fc2d[_0x35cf12];if(_0x35cf['iPDDkH']===undefined){var _0x3123a7=function(_0x2356fb){const _0x329437='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x174af2='',_0x208e0b='';for(let _0x1d645a=0x0,_0x219095,_0x12a25e,_0x571bdf=0x0;_0x12a25e=_0x2356fb['charAt'](_0x571bdf++);~_0x12a25e&&(_0x219095=_0x1d645a%0x4?_0x219095*0x40+_0x12a25e:_0x12a25e,_0x1d645a++%0x4)?_0x174af2+=String['fromCharCode'](0xff&_0x219095>>(-0x2*_0x1d645a&0x6)):0x0){_0x12a25e=_0x329437['indexOf'](_0x12a25e);}for(let _0x4a245a=0x0,_0x2d607e=_0x174af2['length'];_0x4a245a<_0x2d607e;_0x4a245a++){_0x208e0b+='%'+('00'+_0x174af2['charCodeAt'](_0x4a245a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x208e0b);};_0x35cf['NjtLVS']=_0x3123a7,_0x4e2980=arguments,_0x35cf['iPDDkH']=!![];}const _0x2bbd88=_0x12fc2d[0x0],_0x3742c3=_0x35cf12+_0x2bbd88,_0x1427a9=_0x4e2980[_0x3742c3];return!_0x1427a9?(_0x1f3d39=_0x35cf['NjtLVS'](_0x1f3d39),_0x4e2980[_0x3742c3]=_0x1f3d39):_0x1f3d39=_0x1427a9,_0x1f3d39;},_0x35cf(_0x4e2980,_0x41d7bb);}const _0x57dc40=_0x35cf;(function(_0x2c4d5f,_0x35e8f6){const _0x3ee1cf=_0x35cf,_0x36a166=_0x2c4d5f();while(!![]){try{const _0x2415f4=-parseInt(_0x3ee1cf(0x190))/0x1+-parseInt(_0x3ee1cf(0x1b2))/0x2*(-parseInt(_0x3ee1cf(0x1b6))/0x3)+-parseInt(_0x3ee1cf(0x1ad))/0x4+parseInt(_0x3ee1cf(0x19c))/0x5+-parseInt(_0x3ee1cf(0x18c))/0x6+-parseInt(_0x3ee1cf(0x18d))/0x7*(parseInt(_0x3ee1cf(0x19f))/0x8)+parseInt(_0x3ee1cf(0x18f))/0x9*(parseInt(_0x3ee1cf(0x188))/0xa);if(_0x2415f4===_0x35e8f6)break;else _0x36a166['push'](_0x36a166['shift']());}catch(_0x169f01){_0x36a166['push'](_0x36a166['shift']());}}}(_0x12fc,0xa9284));Object['defineProperty'](exports,Symbol['toStringTag'],{'value':_0x57dc40(0x1b5)});function _0x12fc(){const _0x36ea8f=['CMvHzezPBgvtEw5J','y3v0x3bSDwDPBL9MCM9Tx3j1BNrPBwu','tw9KDwXL','nJm0mtDSwhHUu3q','D2fPDezVCLnLy29Uzhm','xsbnzxrHigzPBguGCMvTB3zLzdOG','54k55yE75OMt5BYa5lI76z2I5P2/','twvZC2fNzq','z2v0q3vYugX1z2LUugf0Aa','xsbfCNjVCIbYzw1VDMLUzYbYDw50Aw1LihnJCMLWDdO','y2nFzgvIDwDLCL9YzwfSDgLTzq','Dw5SAw5Ru3LUyW','Dw5SB2fK','x2z1BMnZ','y2fJAgu','z2v0ugX1z2LUtMfTzq','CNvUDgLTzs8','r2XVr1m','5Ps25yIW5RAi5OgVCMvZDgfYDf9ZzwXMx3vP','xsdLT7lLRONOO4u','zNmTzxH0CMe','CxvLCNKTCMvHzhK','xsbsDw50Aw1LihnJCMLWDcb3CML0DgvUihrVia','lMr5BMfTAwnuzxH0DxjLx3bHBMvS','zxjYB3i','yuHoAwq','lM1LDge','CgX1z2LUx3nLCNzLCL9HzgrYzxnZid0Gya','zgi6lY9HC3nLDhmV','B3bLBG','CMjLzhC','mJe1mgPICwvmwG','Bg9Hza','yKf1Dg9tDgfYugX1z2LU','ugfUzwW','mJK5mZeXmKrJExLTzW','mtq3ntzOu0vsBNe','y2XVC2u','mtaWntm5zw9gt0ro','mJa1otCYD3bAEfv1','Bg9N','u01WDwm','zxHPC3rZu3LUyW','CMvWBgfJzq','xsbfCNjVCIbPBMPLy3rPBMCGCNvUDgLTzsbZy3jPChq6','D3jPDgvgAwXLu3LUyW','CMvMCMvZAc1HC3nLDa','lMXVz19Wyw5LBa','Cgf0Aa','5O+s5lU2ifS','yxnZzxqTzgi','mZuYndu3mgrmtgHuDG','yKf1Dg9tDgfYDca9ia','C2vYDMvYqwrKCMvZCW','mJGYngX2CeHJrq','DxrMltG','AgfZ','AM9PBG','lMXVy2fSq2fJAgvFCgfUzwW','y2nFzgvIDwDLCL8XlNrZ','D2vpsNC','CMvXDwvZDa','uhjVAMvJDa','y2nFzgvIDwDLCL8Yx3vNBhKUDhm','AwDXwMy','xsbsDw50Aw1LihnJCMLWDcbYzw1VDMvKoIa','wg1pr2S','CgfJA2fNzuPtt04','ndi4mJiZmNrss1HMBG','BMfTzq','xsdLT7lLJBJOVB0','wvjYB3q','zwPtEwe','mtbjrK5Ns20'];_0x12fc=function(){return _0x36ea8f;};return _0x12fc();}const e=require('./_funcs-CGjvb7AP.cjs'),t=require(_0x57dc40(0x17d)),n=require(_0x57dc40(0x199)),s=_0x57dc40(0x1a4),a=_0x57dc40(0x1a8),r=n[_0x57dc40(0x1a2)](e['_funcs'][_0x57dc40(0x1bb)](),_0x57dc40(0x179),s),i=n['join'](e[_0x57dc40(0x176)][_0x57dc40(0x1bb)](),'runtime/',a),o=n['join'](Editor[_0x57dc40(0x1a7)][_0x57dc40(0x199)],'assets',s),l=o+_0x57dc40(0x183),c=n[_0x57dc40(0x1a2)](Editor['Project'][_0x57dc40(0x199)],'assets',a),u=c+_0x57dc40(0x183);let g,d;const _=async()=>{const _0x3b6c9b=_0x57dc40;try{_0x3b6c9b(0x187)!==_0x3b6c9b(0x187)?_0x276ea2(null):(console[_0x3b6c9b(0x191)]('['+e[_0x3b6c9b(0x176)][_0x3b6c9b(0x178)]()+']\x20Removing\x20runtime\x20script...'),t[_0x3b6c9b(0x193)](o)&&(t['unlinkSync'](o),console[_0x3b6c9b(0x191)]('['+e['_funcs'][_0x3b6c9b(0x178)]()+_0x3b6c9b(0x1aa)+o)),t[_0x3b6c9b(0x193)](c)&&(t[_0x3b6c9b(0x174)](c),console[_0x3b6c9b(0x191)]('['+e[_0x3b6c9b(0x176)]['getPluginName']()+_0x3b6c9b(0x1aa)+c)),t[_0x3b6c9b(0x193)](l)&&(t[_0x3b6c9b(0x174)](l),console['log']('['+e[_0x3b6c9b(0x176)]['getPluginName']()+_0x3b6c9b(0x1b8)+l)),t[_0x3b6c9b(0x193)](u)&&(t['unlinkSync'](u),console[_0x3b6c9b(0x191)]('['+e[_0x3b6c9b(0x176)][_0x3b6c9b(0x178)]()+']\x20Meta\x20file\x20removed:\x20'+u)),await Editor['Message'][_0x3b6c9b(0x1a6)](_0x3b6c9b(0x19b),'refresh-asset','db://assets/'+s),await Editor[_0x3b6c9b(0x1ba)][_0x3b6c9b(0x1a6)](_0x3b6c9b(0x19b),_0x3b6c9b(0x197),_0x3b6c9b(0x185)+a));}catch(_0x57d13d){_0x3b6c9b(0x1a9)!==_0x3b6c9b(0x1ab)?console['error']('['+e[_0x3b6c9b(0x176)][_0x3b6c9b(0x178)]()+_0x3b6c9b(0x1bc),_0x57d13d):_0x1e47fe(()=>{_0x758d80(null);},0x7d0);}},{pathExistsSync:f,writeFileSync:p,readFileSync:m}=require('fs-extra'),y={async 'open_main'(){const _0x5b5db2=_0x57dc40;console[_0x5b5db2(0x191)]('点击打开主面板'),Editor['Panel'][_0x5b5db2(0x186)](e[_0x5b5db2(0x1ac)][_0x5b5db2(0x1ae)]);},async 'restart_self_ui'(){const _0x51d216=_0x57dc40;console[_0x51d216(0x191)](_0x51d216(0x17b)),await Editor['Panel']['close'](e[_0x51d216(0x1ac)][_0x51d216(0x1ae)]);const _0x5910bb={[e[_0x51d216(0x1ac)][_0x51d216(0x1ae)]+'.eval_panel']:!0x1,[e[_0x51d216(0x1ac)][_0x51d216(0x1ae)]+_0x51d216(0x198)]:!0x1,[e[_0x51d216(0x1ac)][_0x51d216(0x1ae)]+_0x51d216(0x180)]:!0x1,[e['packageJSON']['name']+_0x51d216(0x1a3)]:!0x1};for(let _0x20c72f in _0x5910bb)_0x5910bb[_0x20c72f]=await Editor[_0x51d216(0x18b)][_0x51d216(0x1a1)](_0x20c72f),_0x5910bb[_0x20c72f]&&Editor[_0x51d216(0x18b)][_0x51d216(0x18e)](_0x20c72f);setTimeout(async()=>{const _0x3499bf=_0x51d216;if(_0x3499bf(0x1b1)===_0x3499bf(0x1b1)){console[_0x3499bf(0x191)]('时间到重启'),await Editor['Panel'][_0x3499bf(0x186)](e[_0x3499bf(0x1ac)][_0x3499bf(0x1ae)]);for(let _0x15bb64 in _0x5910bb)_0x5910bb[_0x15bb64]&&(await new Promise(_0x120bf4=>{setTimeout(()=>{const _0x362aff=_0x35cf;_0x362aff(0x17a)!==_0x362aff(0x192)?_0x120bf4(null):(_0x4422f8[_0x362aff(0x191)](_0x362aff(0x19a)+_0x1bb484[_0x362aff(0x1ac)][_0x362aff(0x1ae)]+_0x362aff(0x1af)),_0x44a98b());},0x7d0);}),await Editor['Panel'][_0x3499bf(0x186)](_0x15bb64));}else _0xb9d06d[_0x3499bf(0x181)]('['+_0x2fa420['_funcs'][_0x3499bf(0x178)]()+_0x3499bf(0x195),_0x54996f);},0x7d0);},async 'onBeforeBuild'(_0x323be2){const _0x2e1007=_0x57dc40;var _0x4fc106;const _0x511084=null==(_0x4fc106=null==_0x323be2?void 0x0:_0x323be2['packages'])?void 0x0:_0x4fc106[_0x2e1007(0x1bd)];return await(async _0x358799=>{const _0x235639=_0x2e1007,_0x4b3143=null==_0x358799?void 0x0:_0x358799[_0x235639(0x1b4)],_0x505be0=null==_0x358799?void 0x0:_0x358799[_0x235639(0x18a)],_0x5e34f3=null==_0x358799?void 0x0:_0x358799[_0x235639(0x19e)];if(t[_0x235639(0x193)](o)){if(_0x235639(0x1b0)===_0x235639(0x1b0)){if(g=t['readFileSync'](o,_0x235639(0x1a0)),d=t[_0x235639(0x1b3)](l,_0x235639(0x1a0)),_0x4b3143)await _();else{let _0x5013c5=t[_0x235639(0x1b3)](o,_0x235639(0x1a0))[_0x235639(0x194)](/bAutoStart\s*=\s*(true|false)/,_0x235639(0x19d)+_0x505be0);_0x5013c5=_0x5013c5[_0x235639(0x194)](/plugin_server_address\s*=\s*([`"'])(.*?)\1/,_0x235639(0x184)+_0x5e34f3+'`'),t[_0x235639(0x196)](o,_0x5013c5,_0x235639(0x1a0)),await Editor[_0x235639(0x1ba)][_0x235639(0x1a6)](_0x235639(0x19b),_0x235639(0x197),_0x235639(0x185)+s);}return 0x0;}else _0x2d607e[_0x235639(0x191)](_0x235639(0x1b9)),_0x6a709e[_0x235639(0x18b)][_0x235639(0x186)](_0x1d8f45[_0x235639(0x1ac)]['name']);}})(_0x511084);},async 'onAfterBuild'(_0x3601e9,_0x229971,_0xd5416c){const _0x4484ba=_0x57dc40;var _0x2a54e4,_0x276273;const _0x4d11fa=null==(_0x2a54e4=null==_0xd5416c?void 0x0:_0xd5416c[_0x4484ba(0x177)])?void 0x0:_0x2a54e4['applicationJS'];if(await f(_0x4d11fa)){if(_0x4484ba(0x182)!==_0x4484ba(0x182))_0x208e0b[_0x4484ba(0x181)]('['+_0x1d645a[_0x4484ba(0x176)][_0x4484ba(0x178)]()+']\x20Error\x20removing\x20runtime\x20script:',_0x219095);else{let _0x59ba20=m(_0x4d11fa);_0x59ba20=_0x59ba20+'\x0a'+w,p(_0x4d11fa,_0x59ba20);}}return null==(_0x276273=null==_0x3601e9?void 0x0:_0x3601e9['packages'])||_0x276273[_0x4484ba(0x1bd)],((async()=>{const _0x392413=_0x4484ba;g&&t[_0x392413(0x196)](o,g,'utf-8'),d&&t[_0x392413(0x196)](l,d,'utf-8'),await Editor['Message'][_0x392413(0x1a6)](_0x392413(0x19b),_0x392413(0x197),_0x392413(0x185)+s);})());}},w='\x0awindow[\x22cc_debuger_intercept_log\x22]\x20=\x20function(){\x0a\x20\x20if(!window[\x22cc_debuger_log_intercepted\x22]){\x0a\x20\x20\x20\x20window[\x22cc_debuger_log_intercepted\x22]\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20[\x22log\x22,\x20\x22warn\x22,\x20\x22error\x22].forEach(level\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20originalMethod\x20=\x20console[level];\x0a\x0a\x20\x20\x20\x20\x20\x20console[level]\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(window[\x22cc_debuger_handleLog\x22]){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window[\x22cc_debuger_handleLog\x22](level,\x20args);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20originalMethod.apply(console,\x20args);\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20});\x0a\x20\x20}\x0a}\x0awindow[\x22cc_debuger_intercept_log\x22]()\x0a';exports[_0x57dc40(0x189)]=function(){const _0x5c6c28=_0x57dc40;console[_0x5c6c28(0x191)](_0x5c6c28(0x19a)+e[_0x5c6c28(0x1ac)][_0x5c6c28(0x1ae)]+_0x5c6c28(0x17c)),((async()=>{const _0x12ff56=_0x5c6c28;try{console[_0x12ff56(0x191)]('['+e['_funcs']['getPluginName']()+']\x20Injecting\x20runtime\x20script...');let _0x338900=!0x1;for(let _0x20ec5c=0x0;_0x20ec5c<0x78&&(_0x338900=await Editor[_0x12ff56(0x1ba)][_0x12ff56(0x1a6)](_0x12ff56(0x19b),_0x12ff56(0x17e)),!_0x338900);_0x20ec5c++)await e[_0x12ff56(0x176)][_0x12ff56(0x1b7)](0x1);if(!_0x338900)return;{if(_0x12ff56(0x1a5)!=='weOJw'){let _0x1ace25=_0x39be1a(_0x499904);_0x1ace25=_0x1ace25+'\x0a'+_0x3ce07a,_0x526bda(_0x4c94d9,_0x1ace25);}else{const _0x52a249=t[_0x12ff56(0x1b3)](i,_0x12ff56(0x1a0));t[_0x12ff56(0x196)](c,_0x52a249,_0x12ff56(0x1a0)),console[_0x12ff56(0x191)]('['+e[_0x12ff56(0x176)][_0x12ff56(0x178)]()+_0x12ff56(0x17f)+c),await Editor['Message'][_0x12ff56(0x1a6)]('asset-db','refresh-asset','db://assets/'+a);}}{const _0x4b1657=t[_0x12ff56(0x1b3)](r,_0x12ff56(0x1a0));t['writeFileSync'](o,_0x4b1657,_0x12ff56(0x1a0)),console[_0x12ff56(0x191)]('['+e['_funcs'][_0x12ff56(0x178)]()+_0x12ff56(0x17f)+o),await Editor[_0x12ff56(0x1ba)][_0x12ff56(0x1a6)]('asset-db','refresh-asset',_0x12ff56(0x185)+s);}}catch(_0x556aef){console[_0x12ff56(0x181)]('['+e[_0x12ff56(0x176)][_0x12ff56(0x178)]()+_0x12ff56(0x195),_0x556aef);}})());},exports['methods']=y,exports[_0x57dc40(0x175)]=function(){const _0x1f210e=_0x57dc40;console[_0x1f210e(0x191)](_0x1f210e(0x19a)+e[_0x1f210e(0x1ac)]['name']+']\x20已卸载'),_();};