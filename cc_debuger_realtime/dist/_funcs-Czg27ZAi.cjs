'use strict';const e={'name':'cc_debuger_realtime','version':'1.0.6','package_version':0x2,'description':'Cocos\x20real-time\x20multi-function\x20debugger','author':'hyz','author-info':{'email':'1451784145@qq.com','WeChat':'busky192','QQ\x20Group':'581563429'},'type':'module','main':'./dist/browser.cjs','scripts':{'dev':'npm\x20run\x20build\x20--\x20--mode\x20development','build':'vite\x20build','obfuscate':'node\x20plugin-tools.js','clear':'node\x20plugin-tools.js\x20isClear','install_publish':'npm\x20install\x20--production','publish':'vite\x20build\x20&&\x20node\x20plugin-tools.js'},'dependencies':{'@dagrejs/dagre':'^1.1.4','@vue-flow/core':'^1.41.7','element-plus':'^2.8.6','fs-extra':'^11.2.0','mitt':'^3.0.1','pngjs':'^7.0.0','vue':'^3.4.37','ws':'^8.18.0'},'devDependencies':{'@cocos-fe/vite-plugin-cocos-panel':'^0.0.1-beta.5','@cocos/creator-types':'^3.8.4','@types/node':'^22.10.5','@vitejs/plugin-vue':'^5.2.1','javascript-obfuscator':'^4.1.1','rollup-plugin-node-externals':'^7.1.3','terser':'^5.39.0','typescript':'^5.5.3','unplugin-auto-import':'^0.18.6','unplugin-vue-components':'^0.27.5','vite':'^5.4.1','vite-plugin-obfuscator':'^1.0.5','vue-tsc':'^2.1.10','archiver':'^7.0.1'},'contributions':{'builder':'./builder/builder.js','menu':[{'path':'i18n:menu.extension','label':'i18n:cc_debuger_realtime.menu_main','message':'open_main'}],'messages':{'open_main':{'methods':['open_main']},'restart-self':{'methods':['restart_self_ui']},'doEvalJs':{'methods':['default.doEvalJs']},'sendRuntimeLog':{'methods':['log_panel.sendRuntimeLog']},'callMainPanelFunc':{'methods':['default.callMainPanelFunc']},'onRuntimeOnlineState':{'methods':['log_panel.onRuntimeOnlineState','eval_panel.onRuntimeOnlineState','localCache_panel.onRuntimeOnlineState','dynamicTexture_panel.onRuntimeOnlineState']},'onBeforeBuild':{'methods':['onBeforeBuild']},'onAfterBuild':{'methods':['onAfterBuild']},'setDefaultEvalStr':{'methods':['eval_panel.setDefaultEvalStr']}}},'panels':{'default':{'main':'./dist/main_panel.cjs','size':{'min-width':0x258,'min-height':0x258,'width':0x3e8,'height':0x352}},'eval_panel':{'main':'./dist/eval_panel.cjs','size':{'min-width':0x320,'min-height':0x258,'width':0x4b0,'height':0x258}},'log_panel':{'main':'./dist/log_panel.cjs','size':{'min-width':0x190,'min-height':0x12c,'width':0x320,'height':0x258}},'dynamicTexture_panel':{'main':'./dist/dynamicTexture_panel.cjs','size':{'min-width':0x320,'min-height':0x320,'width':0x320,'height':0x320}},'localCache_panel':{'main':'./dist/localCache_panel.cjs','size':{'min-width':0x190,'min-height':0x1f4,'width':0x294,'height':0x320}}}},t=require('path'),n=require('net'),{exec:o,spawn:r}=require('child_process'),i=require('fs-extra'),s=require('os');exports['_funcs']=void 0x0,(_0x445368=>{function _0x10dbe7(){return e['name'];}function _0xf1a3a8(){return t['join'](Editor['Project']['path'],'extensions',e['name']);}_0x445368['getPluginName']=_0x10dbe7,_0x445368['getPluginVersionName']=function(){return e['version'];},_0x445368['getPluginVersionNumber']=function(){return e['package_version'];},_0x445368['getAssetInfoByUuid']=async function(_0x151c7c){return Editor['Message']['request']('asset-db','query-asset-info',_0x151c7c);},_0x445368['getAssetMetaByUuid']=async function(_0x5bef92){return Editor['Message']['request']('asset-db','query-asset-meta',_0x5bef92);},_0x445368['getUuidByUrl']=async function(_0x559028){return Editor['Message']['request']('asset-db','query-uuid',_0x559028);},_0x445368['log_1']=function(..._0x18403d){_0x18403d['unshift']('[plugin]'),console['log']['apply'](console,_0x18403d);},_0x445368['getCurPluginPath']=_0xf1a3a8,_0x445368['waitForSeconds']=async function(_0x53d211){return new Promise(_0x4bd588=>{setTimeout(()=>{_0x4bd588(null);},0x3e8*_0x53d211);});},_0x445368['getAllSubpathsFromUrl']=function(_0x42114c){const _0x26a3bd=_0x42114c['replace'](/^[^:]+:\/+/,'')['split']('/'),_0x2efe68=[];let _0x5535b0='';for(let _0xfb24b1=0x0;_0xfb24b1<_0x26a3bd['length'];_0xfb24b1++)_0x5535b0=(_0x5535b0?_0x5535b0+'/':'')+_0x26a3bd[_0xfb24b1],_0x2efe68['push'](_0x5535b0);return _0x2efe68;},_0x445368['getIconOfResType']=function(_0x59d04e){return'cc.SpriteFrame'===_0x59d04e||'cc.Texture2D'===_0x59d04e||'cc.ImageAsset'===_0x59d04e?'image':'cc.Prefab'===_0x59d04e?'prefab':'cc.SceneAsset'===_0x59d04e?'scene':'cc.Material'===_0x59d04e?'material':'cc.EffectAsset'===_0x59d04e?'effect':'cc.AudioClip'===_0x59d04e?'audio-clip':'cc.AnimationClip'===_0x59d04e?'animation-clip':'cc.JsonAsset'===_0x59d04e?'json':'cc.TextAsset'===_0x59d04e?'text':'cc.BitmapFont'===_0x59d04e?'bitmap-font':'cc.TTFFont'===_0x59d04e?'ttf-font':'cc.ParticleAsset'===_0x59d04e?'particle':'cc.SpriteAtlas'===_0x59d04e?'sprite-atlas':'cc.VideoClip'===_0x59d04e?'video':'cc.Mesh'===_0x59d04e?'mesh':'sp.SkeletonData'===_0x59d04e?'spine-data':'cc.AnimationClip'===_0x59d04e?'animation-clip':'unknown';},_0x445368['getRuntimePreviewUrl']=async function(){return'http://localhost:'+await new Promise(_0x1765e4=>{Editor['Message']['request']('server','query-port')['then'](_0x54e8c2=>{_0x1765e4(_0x54e8c2);});})+'/';},_0x445368['openWebSiteUrl']=function(_0x383dda){let _0x328b10;switch(s['platform']()){case'win32':_0x328b10='start\x20\x22\x22\x20\x22'+_0x383dda+'\x22';break;case'darwin':_0x328b10='open\x20\x22'+_0x383dda+'\x22';break;case'linux':_0x328b10='xdg-open\x20\x22'+_0x383dda+'\x22';break;default:return void console['error']('Unsupported\x20platform:\x20'+s['platform']());}o(_0x328b10,(_0x409e27,_0x2c3d0e,_0xc391cb)=>{_0x409e27?console['error']('执行命令时出错:\x20'+_0x409e27):_0xc391cb&&console['error']('标准错误输出:\x20'+_0xc391cb);});},_0x445368['waitForElementMounted']=async function(_0x21031e,_0x965bb4=0x64,_0x120047=0x32){return _0x21031e['value']?_0x21031e['value']:new Promise(function(_0x4990aa,_0x446513){let _0x1f72a6=0x0;const _0x34be32=setInterval(()=>{_0x21031e['value']?(_0x4990aa(_0x21031e['value']),clearInterval(_0x34be32)):_0x1f72a6>=_0x120047?clearInterval(_0x34be32):_0x1f72a6++;},_0x965bb4);});},_0x445368['clamp']=function(_0x45d6c5,_0x497d4b,_0x3ba27a){if(_0x45d6c5>_0x497d4b)throw new Error('min\x20should\x20be\x20less\x20than\x20or\x20equal\x20to\x20max');return Math['min'](Math['max'](_0x3ba27a,_0x45d6c5),_0x497d4b);};const _0x35895b=[];async function _0x19eebc(_0x337188){try{return await i['ensureDir'](_0x337188),_0x337188;}catch(_0x29a5ed){return console['error']('操作文件夹时出错:\x20'+_0x29a5ed['message']),null;}}async function _0x69e13f(){const _0x48b433=_0xf1a3a8()+'/cache',_0x5c6bb2=_0x48b433+'/localServer.json';return await _0x19eebc(_0x48b433),_0x5c6bb2;}_0x445368['runCmdSpawn']=function(_0x48d787,_0x202691,_0x40be96){return new Promise((_0x579714,_0x493093)=>{const _0x46600c=r(_0x48d787,_0x202691,{'shell':!0x0,..._0x40be96});_0x35895b['push'](_0x46600c),_0x46600c['stdout']['on']('data',_0x289dc0=>{console['log']('[runCmdSpawn]:\x20'+_0x289dc0['toString']()['trim']());}),_0x46600c['stderr']['on']('data',_0x5cb3e0=>{console['error']('[runCmdSpawn\x20Error]:\x20'+_0x5cb3e0['toString']()['trim']());}),_0x46600c['on']('error',_0xb94426=>{console['error']('[runCmdSpawn\x20Error]',_0xb94426),_0x579714();}),_0x46600c['on']('exit',_0x2870af=>{_0x35895b['splice'](_0x35895b['indexOf'](_0x46600c),0x1),console['log']('[runCmdSpawn]\x20Process\x20exited\x20with\x20code\x20'+_0x2870af),_0x579714();});});},_0x445368['stopSpawnProcess']=function(){for(let _0x4565bb of _0x35895b)_0x4565bb['kill']();_0x35895b['length']=0x0;},_0x445368['rgbaToHex']=function(_0x2aa988,_0x112262,_0x2291ea,_0x3b30d7){const _0x2a49bc=_0x42e276=>{const _0x203bad=_0x42e276['toString'](0x10);return 0x1===_0x203bad['length']?'0'+_0x203bad:_0x203bad;};return'#'+_0x2a49bc(_0x2aa988)+_0x2a49bc(_0x112262)+_0x2a49bc(_0x2291ea)+_0x2a49bc(_0x3b30d7);},_0x445368['findAvailablePort']=function _0x401cee(_0x3bb9be){return new Promise((_0x2dbb87,_0x34f86c)=>{const _0x366d03=n['createServer']();_0x366d03['unref'](),_0x366d03['on']('error',()=>{_0x2dbb87(_0x401cee(_0x3bb9be+0x1));}),_0x366d03['listen'](_0x3bb9be,()=>{const _0x4c3820=_0x366d03['address']()['port'];_0x366d03['close'](()=>_0x2dbb87(_0x4c3820));});});},_0x445368['roundNumbersToPrecision']=function _0x4474b9(_0x34e18b,_0x55d190=0x2){return null===_0x34e18b||'object'!=typeof _0x34e18b?'number'==typeof _0x34e18b?Number(_0x34e18b['toFixed'](_0x55d190)):_0x34e18b:Array['isArray'](_0x34e18b)?_0x34e18b['map'](_0x6ccb57=>_0x4474b9(_0x6ccb57,_0x55d190)):Object['keys'](_0x34e18b)['reduce']((_0x4d80db,_0x5cd26c)=>{const _0x53fa0f=_0x34e18b[_0x5cd26c];return _0x4d80db[_0x5cd26c]='number'==typeof _0x53fa0f?Number(_0x53fa0f['toFixed'](_0x55d190)):'object'==typeof _0x53fa0f&&null!==_0x53fa0f?_0x4474b9(_0x53fa0f,_0x55d190):_0x53fa0f,_0x4d80db;},{});},_0x445368['checkMouseIsInElemen']=function(_0x153263,_0x323014){const _0x2440f4=_0x153263['getBoundingClientRect']();return _0x323014['clientX']>_0x2440f4['x']&&_0x323014['clientX']<_0x2440f4['x']+_0x2440f4['width']&&_0x323014['clientY']>_0x2440f4['y']&&_0x323014['clientY']<_0x2440f4['y']+_0x2440f4['height'];},_0x445368['registerF5']=function(){window['addEventListener']('keyup',_0x342752=>{'F5'==_0x342752['key']&&Editor['Message']['send'](_0x445368['getPluginName'](),'restart-self');});},_0x445368['isValidURL']=function(_0x16d67c){return new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\x5cS+(?::\x5cS*)?@)?(?:(?:(?:[1-9]\x5cd?|1\x5cd\x5cd|2[01]\x5cd|22[0-3])(?:\x5c.(?:1?\x5cd{1,2}|2[0-4]\x5cd|25[0-5])){2}(?:\x5c.(?:[0-9]\x5cd?|1\x5cd\x5cd|2[0-4]\x5cd|25[0-4]))|(?:(?:[a-z\x5cu00a1-\x5cuffff0-9]+-?)*[a-z\x5cu00a1-\x5cuffff0-9]+)(?:\x5c.(?:[a-z\x5cu00a1-\x5cuffff0-9]+-?)*[a-z\x5cu00a1-\x5cuffff0-9]+)*(?:\x5c.(?:[a-z\x5cu00a1-\x5cuffff]{2,})))|localhost)(?::\x5cd{2,5})?(?:(/|\x5c?|#)[^\x5cs]*)?$','i')['test'](_0x16d67c);},_0x445368['ensureFloderExist']=_0x19eebc,_0x445368['getLocalIpv4IP']=function(){const _0xb9eb1b=s['networkInterfaces']();for(const _0x56ca58 in _0xb9eb1b){const _0x37bdf9=_0xb9eb1b[_0x56ca58];for(const _0x5488d6 of _0x37bdf9)if('IPv4'===_0x5488d6['family']&&!_0x5488d6['internal'])return _0x5488d6['address'];}return'未找到\x20IP\x20地址';},_0x445368['getLocalIPs']=function(){const _0x38bb7c=s['networkInterfaces'](),_0x2b6765=[];for(const _0x24768a of Object['keys'](_0x38bb7c))for(const _0x5e9f01 of _0x38bb7c[_0x24768a])'IPv4'!==_0x5e9f01['family']||_0x5e9f01['internal']||_0x2b6765['push'](_0x5e9f01['address']),'IPv6'!==_0x5e9f01['family']||_0x5e9f01['internal']||_0x2b6765['push'](_0x5e9f01['address']);return _0x2b6765;},_0x445368['checkIpIsLocalhost']=function(_0x3059b8){const _0x591f24=_0x445368['getLocalIPs']();return!('localhost'!=_0x3059b8&&'::1'!=_0x3059b8&&'127.0.0.1'!=_0x3059b8&&!_0x591f24['includes'](_0x3059b8));},_0x445368['getFs']=function(){return i;},_0x445368['getLocalServerJsonPath']=_0x69e13f,_0x445368['saveCustomServerAddress']=async function(_0x573b0f){const _0x1fbe37=await _0x69e13f();let _0x16cc94=null;try{_0x16cc94=i['readJSONSync'](_0x1fbe37);}catch(_0x45ab4d){}_0x16cc94={'ip':null==_0x16cc94?void 0x0:_0x16cc94['ip'],'port':null==_0x16cc94?void 0x0:_0x16cc94['port'],'ws':_0x573b0f},_0x16cc94['ip']||delete _0x16cc94['ip'],_0x16cc94['port']||delete _0x16cc94['port'],i['writeFileSync'](_0x1fbe37,JSON['stringify'](_0x16cc94,null,0x4));};let _0x5680e7=0x0;function _0x45ae22(_0x14f5ee,_0x11e71d){const _0x3ff4f9=new Uint8Array(_0x14f5ee['length']);for(let _0x3c4cb6=0x0;_0x3c4cb6<_0x14f5ee['length'];_0x3c4cb6++)_0x3ff4f9[_0x3c4cb6]=_0x14f5ee[_0x3c4cb6]^_0x11e71d[_0x3c4cb6%_0x11e71d['length']];return _0x3ff4f9;}_0x445368['printTime']=function(_0x4a5576,..._0xa38ccf){let _0x39ddf9=Date['now']();0x0==_0x5680e7||console['log'](_0x4a5576,_0x39ddf9-_0x5680e7,..._0xa38ccf),_0x5680e7=_0x39ddf9;},_0x445368['getI18nText']=function(_0x44141c){_0x44141c=_0x10dbe7()+'.'+_0x44141c;let _0x1fb1e8=Editor['I18n']['t'](_0x44141c);return''==_0x1fb1e8&&_0x445368['log_1']('i18n.'+_0x44141c+'为空'),_0x1fb1e8;},_0x445368['formatStr']=function(_0x39ddb0,..._0x2e07f0){return _0x39ddb0['replace'](/\{(\d+)\}/g,function(_0x4816a1,_0x28beb0){return void 0x0!==_0x2e07f0[_0x28beb0]?_0x2e07f0[_0x28beb0]:_0x4816a1;});},_0x445368['formatDate']=function(_0x15889d,_0x13bc96){let _0x443c5b=new Date();null!=_0x13bc96&&_0x443c5b['setTime'](_0x13bc96);var _0x4ff926={'M+':_0x443c5b['getMonth']()+0x1,'d+':_0x443c5b['getDate'](),'h+':_0x443c5b['getHours'](),'m+':_0x443c5b['getMinutes'](),'s+':_0x443c5b['getSeconds'](),'q+':Math['floor']((_0x443c5b['getMonth']()+0x3)/0x3),'S':_0x443c5b['getMilliseconds']()};for(var _0x54f22d in(/(y+)/['test'](_0x15889d)&&(_0x15889d=_0x15889d['replace'](RegExp['$1'],(_0x443c5b['getFullYear']()+'')['substr'](0x4-RegExp['$1']['length']))),_0x4ff926))new RegExp('('+_0x54f22d+')')['test'](_0x15889d)&&(_0x15889d=_0x15889d['replace'](RegExp['$1'],0x1==RegExp['$1']['length']?_0x4ff926[_0x54f22d]:('00'+_0x4ff926[_0x54f22d])['substr']((''+_0x4ff926[_0x54f22d])['length'])));return _0x15889d;},_0x445368['openEvalPanel']=async function(_0x5eab71=''){const _0x5638ad=_0x445368['getPluginName']()+'.eval_panel';await Editor['Panel']['has'](_0x5638ad)?Editor['Panel']['focus'](_0x5638ad):await Editor['Panel']['open'](_0x5638ad),_0x5eab71&&Editor['Message']['request'](_0x445368['getPluginName'](),'setDefaultEvalStr',_0x5eab71);},_0x445368['parseKey']=function(_0x3c2dc9){let _0x415fd2='';for(let _0x3af2fa=0x0;_0x3af2fa<_0x3c2dc9['length'];_0x3af2fa++){let _0x536232=_0x3c2dc9[_0x3af2fa]['toString'](),_0x3c5d73='';for(let _0x5de987=0x0;_0x5de987<_0x536232['length'];_0x5de987++)_0x3c5d73+=(0x9-parseInt(_0x536232['charAt'](_0x5de987)))['toString']();_0x415fd2+=parseInt(_0x3c5d73)['toString'](0x10)['padStart'](0x8,'0');}return _0x415fd2;},_0x445368['str_encrypt']=function(_0x235a1d,_0xda30d4){if(null==_0xda30d4)return void console['log']('key\x20不能为空');const _0x387e07=_0x45ae22(new TextEncoder()['encode'](_0x235a1d),new TextEncoder()['encode'](_0xda30d4));let _0x3c1853='';for(let _0x575688=0x0;_0x575688<_0x387e07['length'];_0x575688+=0x8000){const _0x285957=_0x387e07['subarray'](_0x575688,_0x575688+0x8000);_0x3c1853+=String['fromCharCode']['apply'](null,Array['from'](_0x285957));}return btoa(_0x3c1853);},_0x445368['str_decrypt']=function(_0x4ff460,_0x2af73e){if(null==_0x2af73e)return void console['log']('key\x20不能为空');const _0x4b4514=atob(_0x4ff460),_0x2a306d=new Uint8Array(_0x4b4514['length']);for(let _0x43865b=0x0;_0x43865b<_0x4b4514['length'];_0x43865b+=0x8000){const _0x55dbe9=_0x4b4514['slice'](_0x43865b,_0x43865b+0x8000);for(let _0xc1f173=0x0;_0xc1f173<_0x55dbe9['length'];_0xc1f173++)_0x2a306d[_0x43865b+_0xc1f173]=_0x55dbe9['charCodeAt'](_0xc1f173);}const _0x5d4329=_0x45ae22(_0x2a306d,new TextEncoder()['encode'](_0x2af73e));return new TextDecoder()['decode'](_0x5d4329);},_0x445368['pako_deflate']=function(_0x288a53){return pako['deflate'](_0x288a53,{'to':'string'});},_0x445368['pako_inflate']=function(_0x269e01){return pako['inflate'](_0x269e01,{'to':'string'});},_0x445368['getStaticsInfo']=async function(){const _0x4a6d76=Editor['Project']['path'];console['log']('pPath',_0x4a6d76),console['log']('Editor.Project.tmpDir',Editor['Project']['tmpDir']);const _0x221472=t['join'](Editor['Project']['path'],'settings/v2/packages/project.json'),_0x17fbb3=i['readJSONSync'](_0x221472);if(console['log']('projJson',_0x17fbb3),null==this['_designSize']){const _0x4f4690='const\x20{width,height}\x20=\x20cc.view.getDesignResolutionSize();return\x20{width,height}',_0xe90721=await this['evalJsInRuntime'](_0x4f4690);console['log']('执行',_0xe90721);}},_0x445368['getDesignResolutionSize']=function(){var _0x3ca045,_0x320083;const _0x3c0440=t['join'](Editor['Project']['path'],'settings/v2/packages/project.json');if(i['existsSync'](_0x3c0440))try{const _0x1c3f99=i['readJSONSync'](_0x3c0440);if(null==(_0x3ca045=null==_0x1c3f99?void 0x0:_0x1c3f99['general'])?void 0x0:_0x3ca045['designResolution'])return null==(_0x320083=null==_0x1c3f99?void 0x0:_0x1c3f99['general'])?void 0x0:_0x320083['designResolution'];}catch(_0x2c0f9a){}return null;};})(exports['_funcs']||(exports['_funcs']={})),(function(){if(null!=globalThis['pako'])return;let _0x415a63=t['join'](exports['_funcs']['getCurPluginPath'](),'src/tools/','pako.min.js'),_0x80c0bf=i['readFileSync'](_0x415a63,'utf-8');try{new Function(_0x80c0bf)();}catch(_0x13cfc9){console['log'](_0x13cfc9);}}()),exports['packageJSON']=e;