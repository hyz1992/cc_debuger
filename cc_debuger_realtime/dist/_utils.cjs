"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("./_funcs-B2Sc0Zw2.cjs"),{PNG:e}=require("pngjs"),r=require("fs-extra");var o;exports._utils=void 0,(o=exports._utils||(exports._utils={})).base64ToUint8Array=function(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r},o.saveUnit8ArrayPng=function(o,n,i,s){const a=new e({width:n,height:i,colorType:6,inputColorType:6,inputHasAlpha:!0});for(let t=0;t<i;t++)for(let e=0;e<n;e++){const r=4*(n*t+e),i=n*t+e<<2;a.data[i]=o[r],a.data[i+1]=o[r+1],a.data[i+2]=o[r+2],a.data[i+3]=o[r+3]}const l=e.sync.write(a);r.writeFileSync(s,l),t._funcs.log_1("文件保存成功: ",s)},o.restoreCroppedImage=function(t){const{buffer:e,oldWidth:r,oldHeight:o,top:n,left:i,right:s,bottom:a}=t,l=new Uint8Array(r*o*4);if(l.fill(0),0===e.length||0===r||0===o)return{buffer:l,width:r,height:o};const u=r-i-s,c=o-n-a;for(let f=0;f<c;f++){const t=f*u*4,o=t+4*u,s=4*((n+f)*r+i);l.set(e.subarray(t,o),s)}return{buffer:l,width:r,height:o}};
